
<div class="container">
  <table class="table table-bordered">
    <%= paginate @messages %>
    <h5>Scout Messages</h5>
    <thead class = "thead-dark">
      <th>ID</th>
      <th>Sender</th>
      <th>Recipient</th>
      <th>Body</th>
      <th>Time</th>
      <th>Read/Unread</th>
      <th>Action</th>
    </thead>
    <tbody>
      <% @messages.each do |message| %>
        <tr>
          <td><%= message.id %></td>
          <td>
            <%= message.user_id.present? ? message.scout.user.first_name : message.scout.company.name %>
          </td>
          <td>
            <%= message.user_id.present? ? message.scout.company.name : message.scout.user.first_name %>
          </td>
          <td><%= message.body %></td>
          <td><%= message.message_time %></td>
          <td class="text-center align-middle"><%= message.read ? '既読' : '未読' %></td>
          <td class="text-center"><%= link_to "Delete", admin_scout_scout_message_path(message.scout_id,message.id), method: :delete, data:{confirm:"Are you sure?"}, class:"btn btn-danger" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
